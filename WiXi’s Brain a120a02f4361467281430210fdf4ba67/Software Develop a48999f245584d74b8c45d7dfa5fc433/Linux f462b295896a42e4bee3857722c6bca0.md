# Linux

- Repositorios y utilidades.

  - Commandos:
    - [https://github.com/jlevy/the-art-of-command-line/tree/master](https://github.com/jlevy/the-art-of-command-line/tree/master)
    - [https://www.freecodecamp.org/espanol/news/comandos-de-linux/](https://www.freecodecamp.org/espanol/news/comandos-de-linux/)
    - [https://overapi.com/linux](https://overapi.com/linux)
  - Permisos y propietarios:
    - [https://www.hostinger.co/tutoriales/cambiar-permisos-y-propietarios-linux-linea-de-comandos/](https://www.hostinger.co/tutoriales/cambiar-permisos-y-propietarios-linux-linea-de-comandos/)
  - Editor de texto Nano:
    - [https://www.youtube.com/watch?v=Zo17W1Am3fQ](https://www.youtube.com/watch?v=Zo17W1Am3fQ)
- Descargables.

  - comandos mas usados:

    [Comandos_mas_usados.pdf](Linux%20f462b295896a42e4bee3857722c6bca0/Comandos_mas_usados.pdf)
- 50 Basic Linux Commands.

  ```bash
  ğ©ğ°ğ #Print working directory. ğŸ“‚
  ğ¥ğ¬ #List directory contents. ğŸ“‹
  ğœğ #Change directory. ğŸ“
  ğ­ğ¨ğ®ğœğ¡ #To create a file without any content. ğŸ“„
  ğœğšğ­ #Concatenate and display file content. ğŸ±
  ğœğ© #Copy files or directories. ğŸ“ğŸ“‚
  ğ¦ğ¯ #Move or rename files or directories. ğŸ”„
  ğ«ğ¦ #Remove files or directories. ğŸ—‘ï¸
  ğ¦ğ¤ğğ¢ğ« #Create a new directory. ğŸ“
  ğ«ğ¦ğğ¢ğ« #Remove an empty directory. ğŸ“ğŸ—‘ï¸
  ğğœğ¡ğ¨ #Display a line of text or a variable value. ğŸ“¢
  ğ§ğšğ§ğ¨ #A simple text editor. âœï¸
  ğ¯ğ¢ #A powerful text editor. âœ’ï¸
  ğœğ¡ğ¦ğ¨ğ #Change file or directory permissions. ğŸ”
  ğœğ¡ğ¨ğ°ğ§ #Change file or directory owner and group. ğŸ‘¤
  ğŸğ¢ğ§ğ #Search for files in a directory hierarchy. ğŸ”
  ğ ğ«ğğ© #Search text using patterns. ğŸ”
  ğ¦ğšğ§ #Display the manual for a command. ğŸ“–
  ğ©ğ¬ #Display information about running processes. ğŸ”„
  ğ¤ğ¢ğ¥ğ¥ #Terminate processes by PID. âš°ï¸
  ğ­ğ¨ğ© #Display and update sorted information about processes. ğŸ“Š
  ğğŸ #Report file system disk space usage. ğŸ’¾
  ğğ® #Estimate file space usage. ğŸ“
  ğŸğ«ğğ #Display memory usage. ğŸ§ 
  ğ®ğ§ğšğ¦ğ #Print system information. â„¹ï¸
  ğ®ğ©ğ­ğ¢ğ¦ğ #Tell how long the system has been running. â³
  ğ°ğ¡ğ¨ğšğ¦ğ¢ #Display the current user. ğŸ‘¤
  ğ¬ğ®ğğ¨ #Execute a command as another user, typically the superuser. ğŸ›¡ï¸
  ğšğ©ğ­-ğ ğğ­ #Package handling utility for Debian-based distributions. ğŸ“¦
  ğ²ğ®ğ¦ #Package manager for RPM-based distributions. ğŸ²
  ğ­ğšğ« #Archive files. ğŸ—ƒï¸
  ğ³ğ¢ğ© #Package and compress (archive) files. ğŸ“¦
  ğ®ğ§ğ³ğ¢ğ© #Extract compressed files. ğŸ“‚
  ğ°ğ ğğ­ #Retrieve files from the web. ğŸŒ
  ğœğ®ğ«ğ¥ #Transfer data from or to a server. ğŸ”„
  ğ¬ğ¬ğ¡ #OpenSSH client (remote login program). ğŸšª
  ğ¬ğœğ© #Secure copy (remote file copy program). ğŸ”’
  ğ«ğ¬ğ²ğ§ğœ #Remote file and directory synchronization. ğŸ”„
  ğ¡ğ¨ğ¬ğ­ğ§ğšğ¦ğ #Show or set the system's host name. ğŸ 
  ğ©ğ¢ğ§ğ  #Send ICMP ECHO_REQUEST to network hosts. ğŸ“¶
  ğ§ğğ­ğ¬ğ­ğšğ­ #Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships. ğŸŒ
  ğ¢ğŸğœğ¨ğ§ğŸğ¢ğ  #Configure a network interface. ğŸŒ
  ğ¢ğ© #Show/manipulate routing, devices, policy routing, and tunnels. ğŸŒ
  ğ¢ğ©ğ­ğšğ›ğ¥ğğ¬ #Administration tool for IPv4 packet filtering and NAT. ğŸ›¡ï¸
  ğ¬ğ²ğ¬ğ­ğğ¦ğœğ­ğ¥ #Control the systemd system and service manager. ğŸ”„
  ğ£ğ¨ğ®ğ«ğ§ğšğ¥ğœğ­ğ¥ #Query and display messages from the journal. ğŸ“œ
  ğœğ«ğ¨ğ§ğ­ğšğ› #Schedule periodic background jobs. â°
  ğ¬ğ®ğğ¨ ğ¬ğ® #Allows us to switch to a different user and execute one or more commands in the shell without logging out from our current session. ğŸ›¡ï¸
  ğ¦ğ¨ğ®ğ§ğ­ #Mount a file system. ğŸ“‚
  ğ®ğ¦ğ¨ğ®ğ§ğ­ #Unmount a file system. ğŸ“‚
  ```

---

### Directory Hierarchy

```bash
man hier 
#show information about Directory hierarchy
```

<aside>
ğŸ—‚ï¸ /root â†’ The root directory is the starting point of the entire file system in Linux.
/bin â†’ holds binary executable files (command files).
/boot â†’ Stores files necessary for system boot, such as the Linux kernel and the bootloader (GRUB).
/dev â†’  Contains special files that represent hardware devices, such as hard drives, printers, terminals, etc.
**/etc â†’** Stores system configuration files and configuration files for installed applications. Examples: `passwd`, `shadow`, `fstab`, `resolv.conf`.
**/home â†’** Home directory for system users. Each user has their own subdirectory within `/home`, where their personal files and configurations are stored.
**/lib â†’** Contains shared libraries required for programs located in `/bin` and `/sbin`.
**/media â†’** Automatic mount point for removable devices such as USB drives, CD-ROMs, etc.
**/mnt â†’** Mount point for temporary file systems, such as additional disk partitions.
**/opt â†’** Directory for optional or third-party software that is not part of the base system distribution.
**/proc â†’** Virtual file system that provides information about running processes and other aspects of the kernel.
**/run â†’** Stores temporary data related to the running system, such as process information and network sockets.
**/sbin â†’** Contains essential system programs that can only be executed by the root user. Examples: `fdisk`, `ifconfig`, `init`, `mount`.
**/srv â†’** Contains service-specific data provided by the system (e.g., web server data).
**/sys â†’** Virtual file system that provides information about system hardware and device drivers.
**/tmp â†’** Directory for temporary files that can be deleted by the system or users.
**/usr â†’** Contains most of the programs, libraries, and user data that are not essential for system boot. It is divided into several subdirectories such as `/usr/bin`, `/usr/lib`, `/usr/local`, etc.
**/var â†’** Contains variable files, such as system logs, mail queue files, and database data.

</aside>

### Important Subdirectories within /usr:

<aside>
ğŸ—‚ï¸ **/usr/bin â†’** Executable programs for users.
**/usr/lib â†’** Shared libraries for programs in `/usr/bin`.
**/usr/local â†’** Directory for locally installed programs and data (not part of the system distribution).
**/usr/sbin â†’** System executable programs for root users.
**/usr/share â†’** Architecture-independent shared data, such as documentation, images, etc.

</aside>

- **Basics Commands:**

  ```bash
  # Change directory
  cd /path/to/directory  
  # cuando se quiere acceder a un elemento dentro de la ruta se reemplaza
  # por la viÃ±eta para no repetir ej ~/logs

  # List contents of a directory
  ls  

  # View current working directory
  pwd  

  # print or show in terminal
  echo

  # show manual for any command
  man [command]

  # short description about the command
  help [command]

  # To copy files, we utilize the cp command. 
  # It stands for â€œcopyâ€ and operates on two primary arguments: 
  # the file you want to copy and the location where you want it copied.
  # For instance:
  cp /path/to/original/file /path/to/copied/file
  ```
- **Moving Files/Directories:**

  ```bash
  #source: File or Directory to move
  #destination: Location wheere you want to move the source
  mv [options] source destination
  ```
- **Creating Files**

  ```bash
  #Create new empty file or modify last date
  touch newfile.txt

  #Create new file and fill 
  #view the file
  #merge multiple files into one
  cat > newfile.txt  # Ctrl + D to finish
  cat archivo1.txt archivo2.txt > archivo_combinado.txt

  #show 10 lines 
  head [route/file]
  #show 10lines of end
  tail [route/file]
  #show content page by page
  less
  ```
- **Environment variables**

  ```bash
  env # list all of environment variables
  export NOMBRE_VARIABLE=valor # create or modify environment variables
  ```

  - **$PATH**

    ```bash
    $PATH # It is a list of directories separated by a colon (:) that the Linux shell uses to search for executable commands when you type them in the terminal.
    echo $PATH # sow all directories on list
    export PATH=$PATH:/ruta/al/nuevo/directorio # add directories 
    export PATH=$(echo $PATH | sed -e 's/:\/ruta\/a\/eliminar//g') # delete directories
    alias mi_comando='/ruta/completa/al/comando' # create alias for directory

    ```
- **Redirects**

  <aside>
    ğŸ’¡ **Types of redirections:**

  - **Output redirection (`>` and `>>`):**
    - `>`: Redirects the standard output of a command to a file, overwriting any existing content.
    - `>>`: Redirects the standard output of a command to a file, appending the output to the end of the file (without overwriting).
  - **Error redirection (`2>` and `2>>`):**
    - `2>`: Redirects the standard error output of a command to a file, overwriting any existing content.
    - `2>>`: Redirects the standard error output of a command to a file, appending the output to the end of the file (without overwriting).
  - **Input redirection (`<`):**
    - `<`: Redirects the standard input of a command from a file instead of the keyboard.
  - **Pipes (`|`):**
    - `|`: Connects the standard output of one command to the standard input of another command. This allows you to chain commands and create more complex workflows.

  </aside>
- **File permissions**

  <aside>
    ğŸ’¡ From the above example, the first characterÂ **`-`**Â indicates if it is a regular file(**`-`**) or directory(**`d`**). The following group of three characters(**`rwx`**) represents the permissions for the file owner. The next three characters(**`r--`**) represent permissions for the group and the last set of three characters(**`r--`**) represents permissions for others.

  TheÂ **`r`**Â indicates that the file can be read,Â **`w`**Â indicates that the file can be written to, andÂ **`x`**Â indicates that the file can be executed.

  The permissions can be changed using theÂ **`chmod`**,Â **`chown`**, andÂ **`chgrp`**Â commands.

  - ğŸ’¡**Consejo**.

    chmod [opciones] permisos archivo

    - **Opciones:**
      - `R`: Cambia los permisos de forma recursiva para un directorio y todos sus contenidos.
    - **Permisos:**
      - **Modo simbÃ³lico:** Utiliza letras (`u`, `g`, `o`, `a`) y sÃ­mbolos (`+`, ``, `=`) para indicar los permisos. Por ejemplo: `chmod u+x archivo.txt` (agrega permiso de ejecuciÃ³n al usuario).
      - **Modo octal:** Utiliza nÃºmeros octales (0-7) para representar los permisos. Cada dÃ­gito representa un conjunto de permisos (usuario, grupo, otros). Por ejemplo: `chmod 755 archivo.txt` (usuario: rwx, grupo: r-x, otros: r-x).

  </aside>
- **Archiving and compressing**

  - **Archiving (Combining Files):** The primary tool for archiving in Linux is `tar` (tape archive). It bundles multiple files and directories into a single archive file, without compression.

    ```bash
    tar -cvf archive_name.tar file1 file2 directory1
    ```

    <aside>
      ğŸ’¡ Options

    - `c`: Create a new archive
    - `v`: Verbose mode (shows files as they are added)
    - `f`: Specify the archive filename

    </aside>
  - **Extracting a tar archive:**

    ```bash
    tar -xvf archive_name.tar
    ```

    <aside>
      ğŸ’¡ `-x`: Extract files from an archive

    </aside>
  - **Compression (Reducing File Size):**

    Several compression tools are available in Linux, each with different algorithms and trade-offs between compression ratio and speed:

    - **gzip (`*.gz`):** Fast and widely used for general-purpose compression.

      ```bash
      gzip file.txt       # Compresses to file.txt.gz
      gunzip file.txt.gz  # Decompresses
      ```
    - **bzip2 (`*.bz2`):**  Higher compression ratio than gzip, but slower.

      ```bash
      bzip2 file.txt       # Compresses to file.txt.bz2
      bunzip2 file.txt.bz2  # Decompresses
      ```
    - **xz (`*.xz`):**  Offers the highest compression ratio, but can be very slow.

      ```bash
      xz file.txt       # Compresses to file.txt.xz
      unxz file.txt.xz  # Decompresses
      ```
    - **zip (`*.zip`):**  Commonly used for cross-platform compatibility. Requires the `zip` and `unzip` utilities.

      ```bash
      zip archive.zip file1 file2 # Compresses to file.zip
      unzip archive.zip           # Decompresses
      ```
    - **zstd (`*.zst`):**  Modern compression algorithm offering a good balance of speed and compression ratio.

      ```bash
      zstd file.txt       # Compresses to file.txt.zst
      unzstd file.txt.zst  # Decompresses
      ```
  - **Combining tar and Compression:**

    The `tar` command can be used with compression tools to create compressed archives directly:

    ```bash
    # tar.gz:
    tar -czvf archive_name.tar.gz file1 file2 directory1
    tar -xzvf archive_name.tar.gz 

    # tar.bz2:
    tar -cjvf archive_name.tar.bz2 file1 file2 directory1
    tar -xjvf archive_name.tar.bz2

    # tar.xz:
    tar -cJvf archive_name.tar.xz file1 file2 directory1
    tar -xJvf archive_name.tar.xz
    ```
  - **What choose**

    <aside>
      ğŸ’¡ **Choosing the Right Tool:**

    - **gzip:** General-purpose compression, good balance of speed and size.
    - **bzip2:** Better compression for large files, but slower.
    - **xz:** Highest compression, best for long-term storage, but slowest.
    - **zip:** For cross-platform compatibility.
    - **zstd:** Modern compression with good speed and compression.

    </aside>

---

- Arquitectura

  - Usuario
  - Aplicaciones
  - Shell (interpreta la linea de comandos)
  - estandar de jerarquia del sistema de archivos
  - kernel
  - hardware
- Parent distributions

  - Red Hat (CentOS)
  - Slackware (SUSE)
  - Debian (Ubuntu y **Kali**)
- Pentesting tools

  - Metasploit: buscar y explotar vulnerabilidades en equipos.
  - Burp suite: busca debilidades en apps web.
  - John the Ripper: passwords
  - 
- Digital forensics tools

  - TCPDump: analiza paquetes de linea de comandos (network traffic)
  - WireShark: analizar trafico de red en vivo y capturarlo
  - Autopsy analizar discos duros y smartphones
- linux basics

  ```bash
  apt install //instala
  apt remove //elimina
  sudo //permisos root
  apt list --installed //lista instaladas

  echo //emite una cadena de texto especifica
  ```
  ### Shell (Bash)


  ```bash
  grep (caracteres) [archivo] #busca un archivo especifico y muestra el contenido que coincide

  pipe o tuberia ( | )   # PLECA envia la salida de un comando como entrada de otro
  #redirigir salidas
  #envian la salida a un archivo especifico
  >    #sobreescribe el archivo
  >>   #agrega al final del contenido
  find [ubicacion] (criterios) # por lo general los criterios inician con -
  # -name busca que el nombre coincida importan las mayusculas
  #-iname no importan las mayusculas
  # * comodin que representa carecteres desconocidos
  #-mtime -(#dias) archivos modificados en los ultimos # dias
  #-mmin -(#min) 

  Permissions
  drwxrwxrwx  # r read, w write, x execute
  # 1 - dipo de archivo (d directorio, - archivo )
  # 2-3 permisos del usuario, - no tiene ese permiso
  # 4-6 permisos de grupo
  # 7-10 permisos para otros usuarios
  Comandos para manejo de permisos
  ls - l #muestra el conetenido con sus permisos
  ls -a #muestra archivos ocultos
  ls -la #ambos comandos
  --Cambiar permisos
  chmod [g+w,o-r] (archivo)# cambia los permisos
  # u usuario, g grupo, o otros ; + agrega, - quita

  #usuarios
  useradd  #agrega usuarios al sistema (debe ser con sudo)
  usermod #modifica usuario ej: -g agrega grupo o grupos (si no se incluye -a reemplaza los grupos)
  #-d: Cambia el directorio de inicio del usuario.

  #-l: Cambia el nombre de inicio de sesiÃ³n del usuario.

  #-L: Bloquea la cuenta para que el usuario no pueda iniciar sesiÃ³n.
  userdel #elimina un usuario del sistema (debe ser con sudo)
  #-r elimina archivos del directorio del usuario
  chown cambia el propietartio de un archivo (: antes del nuuevo propietario para que sea un grupo)


  ```
