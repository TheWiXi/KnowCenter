# Linux

- Repositorios y utilidades.

  - Commandos:
    - [https://github.com/jlevy/the-art-of-command-line/tree/master](https://github.com/jlevy/the-art-of-command-line/tree/master)
    - [https://www.freecodecamp.org/espanol/news/comandos-de-linux/](https://www.freecodecamp.org/espanol/news/comandos-de-linux/)
    - [https://overapi.com/linux](https://overapi.com/linux)
  - Permisos y propietarios:
    - [https://www.hostinger.co/tutoriales/cambiar-permisos-y-propietarios-linux-linea-de-comandos/](https://www.hostinger.co/tutoriales/cambiar-permisos-y-propietarios-linux-linea-de-comandos/)
  - Editor de texto Nano:
    - [https://www.youtube.com/watch?v=Zo17W1Am3fQ](https://www.youtube.com/watch?v=Zo17W1Am3fQ)
- Descargables.

  - comandos mas usados:

    [Comandos_mas_usados.pdf](Linux%20f462b295896a42e4bee3857722c6bca0/Comandos_mas_usados.pdf)
- 50 Basic Linux Commands.

  ```bash
  𝐩𝐰𝐝 #Print working directory. 📂
  𝐥𝐬 #List directory contents. 📋
  𝐜𝐝 #Change directory. 📁
  𝐭𝐨𝐮𝐜𝐡 #To create a file without any content. 📄
  𝐜𝐚𝐭 #Concatenate and display file content. 🐱
  𝐜𝐩 #Copy files or directories. 📁📂
  𝐦𝐯 #Move or rename files or directories. 🔄
  𝐫𝐦 #Remove files or directories. 🗑️
  𝐦𝐤𝐝𝐢𝐫 #Create a new directory. 📁
  𝐫𝐦𝐝𝐢𝐫 #Remove an empty directory. 📁🗑️
  𝐞𝐜𝐡𝐨 #Display a line of text or a variable value. 📢
  𝐧𝐚𝐧𝐨 #A simple text editor. ✏️
  𝐯𝐢 #A powerful text editor. ✒️
  𝐜𝐡𝐦𝐨𝐝 #Change file or directory permissions. 🔐
  𝐜𝐡𝐨𝐰𝐧 #Change file or directory owner and group. 👤
  𝐟𝐢𝐧𝐝 #Search for files in a directory hierarchy. 🔍
  𝐠𝐫𝐞𝐩 #Search text using patterns. 🔎
  𝐦𝐚𝐧 #Display the manual for a command. 📖
  𝐩𝐬 #Display information about running processes. 🔄
  𝐤𝐢𝐥𝐥 #Terminate processes by PID. ⚰️
  𝐭𝐨𝐩 #Display and update sorted information about processes. 📊
  𝐝𝐟 #Report file system disk space usage. 💾
  𝐝𝐮 #Estimate file space usage. 📏
  𝐟𝐫𝐞𝐞 #Display memory usage. 🧠
  𝐮𝐧𝐚𝐦𝐞 #Print system information. ℹ️
  𝐮𝐩𝐭𝐢𝐦𝐞 #Tell how long the system has been running. ⏳
  𝐰𝐡𝐨𝐚𝐦𝐢 #Display the current user. 👤
  𝐬𝐮𝐝𝐨 #Execute a command as another user, typically the superuser. 🛡️
  𝐚𝐩𝐭-𝐠𝐞𝐭 #Package handling utility for Debian-based distributions. 📦
  𝐲𝐮𝐦 #Package manager for RPM-based distributions. 🍲
  𝐭𝐚𝐫 #Archive files. 🗃️
  𝐳𝐢𝐩 #Package and compress (archive) files. 📦
  𝐮𝐧𝐳𝐢𝐩 #Extract compressed files. 📂
  𝐰𝐠𝐞𝐭 #Retrieve files from the web. 🌐
  𝐜𝐮𝐫𝐥 #Transfer data from or to a server. 🔄
  𝐬𝐬𝐡 #OpenSSH client (remote login program). 🚪
  𝐬𝐜𝐩 #Secure copy (remote file copy program). 🔒
  𝐫𝐬𝐲𝐧𝐜 #Remote file and directory synchronization. 🔄
  𝐡𝐨𝐬𝐭𝐧𝐚𝐦𝐞 #Show or set the system's host name. 🏠
  𝐩𝐢𝐧𝐠 #Send ICMP ECHO_REQUEST to network hosts. 📶
  𝐧𝐞𝐭𝐬𝐭𝐚𝐭 #Print network connections, routing tables, interface statistics, masquerade connections, and multicast memberships. 🌐
  𝐢𝐟𝐜𝐨𝐧𝐟𝐢𝐠 #Configure a network interface. 🌐
  𝐢𝐩 #Show/manipulate routing, devices, policy routing, and tunnels. 🌐
  𝐢𝐩𝐭𝐚𝐛𝐥𝐞𝐬 #Administration tool for IPv4 packet filtering and NAT. 🛡️
  𝐬𝐲𝐬𝐭𝐞𝐦𝐜𝐭𝐥 #Control the systemd system and service manager. 🔄
  𝐣𝐨𝐮𝐫𝐧𝐚𝐥𝐜𝐭𝐥 #Query and display messages from the journal. 📜
  𝐜𝐫𝐨𝐧𝐭𝐚𝐛 #Schedule periodic background jobs. ⏰
  𝐬𝐮𝐝𝐨 𝐬𝐮 #Allows us to switch to a different user and execute one or more commands in the shell without logging out from our current session. 🛡️
  𝐦𝐨𝐮𝐧𝐭 #Mount a file system. 📂
  𝐮𝐦𝐨𝐮𝐧𝐭 #Unmount a file system. 📂
  ```

---

### Directory Hierarchy

```bash
man hier 
#show information about Directory hierarchy
```

<aside>
🗂️ /root → The root directory is the starting point of the entire file system in Linux.
/bin → holds binary executable files (command files).
/boot → Stores files necessary for system boot, such as the Linux kernel and the bootloader (GRUB).
/dev →  Contains special files that represent hardware devices, such as hard drives, printers, terminals, etc.
**/etc →** Stores system configuration files and configuration files for installed applications. Examples: `passwd`, `shadow`, `fstab`, `resolv.conf`.
**/home →** Home directory for system users. Each user has their own subdirectory within `/home`, where their personal files and configurations are stored.
**/lib →** Contains shared libraries required for programs located in `/bin` and `/sbin`.
**/media →** Automatic mount point for removable devices such as USB drives, CD-ROMs, etc.
**/mnt →** Mount point for temporary file systems, such as additional disk partitions.
**/opt →** Directory for optional or third-party software that is not part of the base system distribution.
**/proc →** Virtual file system that provides information about running processes and other aspects of the kernel.
**/run →** Stores temporary data related to the running system, such as process information and network sockets.
**/sbin →** Contains essential system programs that can only be executed by the root user. Examples: `fdisk`, `ifconfig`, `init`, `mount`.
**/srv →** Contains service-specific data provided by the system (e.g., web server data).
**/sys →** Virtual file system that provides information about system hardware and device drivers.
**/tmp →** Directory for temporary files that can be deleted by the system or users.
**/usr →** Contains most of the programs, libraries, and user data that are not essential for system boot. It is divided into several subdirectories such as `/usr/bin`, `/usr/lib`, `/usr/local`, etc.
**/var →** Contains variable files, such as system logs, mail queue files, and database data.

</aside>

### Important Subdirectories within /usr:

<aside>
🗂️ **/usr/bin →** Executable programs for users.
**/usr/lib →** Shared libraries for programs in `/usr/bin`.
**/usr/local →** Directory for locally installed programs and data (not part of the system distribution).
**/usr/sbin →** System executable programs for root users.
**/usr/share →** Architecture-independent shared data, such as documentation, images, etc.

</aside>

- **Basics Commands:**

  ```bash
  # Change directory
  cd /path/to/directory  
  # cuando se quiere acceder a un elemento dentro de la ruta se reemplaza
  # por la viñeta para no repetir ej ~/logs

  # List contents of a directory
  ls  

  # View current working directory
  pwd  

  # print or show in terminal
  echo

  # show manual for any command
  man [command]

  # short description about the command
  help [command]

  # To copy files, we utilize the cp command. 
  # It stands for “copy” and operates on two primary arguments: 
  # the file you want to copy and the location where you want it copied.
  # For instance:
  cp /path/to/original/file /path/to/copied/file
  ```
- **Moving Files/Directories:**

  ```bash
  #source: File or Directory to move
  #destination: Location wheere you want to move the source
  mv [options] source destination
  ```
- **Creating Files**

  ```bash
  #Create new empty file or modify last date
  touch newfile.txt

  #Create new file and fill 
  #view the file
  #merge multiple files into one
  cat > newfile.txt  # Ctrl + D to finish
  cat archivo1.txt archivo2.txt > archivo_combinado.txt

  #show 10 lines 
  head [route/file]
  #show 10lines of end
  tail [route/file]
  #show content page by page
  less
  ```
- **Environment variables**

  ```bash
  env # list all of environment variables
  export NOMBRE_VARIABLE=valor # create or modify environment variables
  ```

  - **$PATH**

    ```bash
    $PATH # It is a list of directories separated by a colon (:) that the Linux shell uses to search for executable commands when you type them in the terminal.
    echo $PATH # sow all directories on list
    export PATH=$PATH:/ruta/al/nuevo/directorio # add directories 
    export PATH=$(echo $PATH | sed -e 's/:\/ruta\/a\/eliminar//g') # delete directories
    alias mi_comando='/ruta/completa/al/comando' # create alias for directory

    ```
- **Redirects**

  <aside>
    💡 **Types of redirections:**

  - **Output redirection (`>` and `>>`):**
    - `>`: Redirects the standard output of a command to a file, overwriting any existing content.
    - `>>`: Redirects the standard output of a command to a file, appending the output to the end of the file (without overwriting).
  - **Error redirection (`2>` and `2>>`):**
    - `2>`: Redirects the standard error output of a command to a file, overwriting any existing content.
    - `2>>`: Redirects the standard error output of a command to a file, appending the output to the end of the file (without overwriting).
  - **Input redirection (`<`):**
    - `<`: Redirects the standard input of a command from a file instead of the keyboard.
  - **Pipes (`|`):**
    - `|`: Connects the standard output of one command to the standard input of another command. This allows you to chain commands and create more complex workflows.

  </aside>
- **File permissions**

  <aside>
    💡 From the above example, the first character **`-`** indicates if it is a regular file(**`-`**) or directory(**`d`**). The following group of three characters(**`rwx`**) represents the permissions for the file owner. The next three characters(**`r--`**) represent permissions for the group and the last set of three characters(**`r--`**) represents permissions for others.

  The **`r`** indicates that the file can be read, **`w`** indicates that the file can be written to, and **`x`** indicates that the file can be executed.

  The permissions can be changed using the **`chmod`**, **`chown`**, and **`chgrp`** commands.

  - 💡**Consejo**.

    chmod [opciones] permisos archivo

    - **Opciones:**
      - `R`: Cambia los permisos de forma recursiva para un directorio y todos sus contenidos.
    - **Permisos:**
      - **Modo simbólico:** Utiliza letras (`u`, `g`, `o`, `a`) y símbolos (`+`, ``, `=`) para indicar los permisos. Por ejemplo: `chmod u+x archivo.txt` (agrega permiso de ejecución al usuario).
      - **Modo octal:** Utiliza números octales (0-7) para representar los permisos. Cada dígito representa un conjunto de permisos (usuario, grupo, otros). Por ejemplo: `chmod 755 archivo.txt` (usuario: rwx, grupo: r-x, otros: r-x).

  </aside>
- **Archiving and compressing**

  - **Archiving (Combining Files):** The primary tool for archiving in Linux is `tar` (tape archive). It bundles multiple files and directories into a single archive file, without compression.

    ```bash
    tar -cvf archive_name.tar file1 file2 directory1
    ```

    <aside>
      💡 Options

    - `c`: Create a new archive
    - `v`: Verbose mode (shows files as they are added)
    - `f`: Specify the archive filename

    </aside>
  - **Extracting a tar archive:**

    ```bash
    tar -xvf archive_name.tar
    ```

    <aside>
      💡 `-x`: Extract files from an archive

    </aside>
  - **Compression (Reducing File Size):**

    Several compression tools are available in Linux, each with different algorithms and trade-offs between compression ratio and speed:

    - **gzip (`*.gz`):** Fast and widely used for general-purpose compression.

      ```bash
      gzip file.txt       # Compresses to file.txt.gz
      gunzip file.txt.gz  # Decompresses
      ```
    - **bzip2 (`*.bz2`):**  Higher compression ratio than gzip, but slower.

      ```bash
      bzip2 file.txt       # Compresses to file.txt.bz2
      bunzip2 file.txt.bz2  # Decompresses
      ```
    - **xz (`*.xz`):**  Offers the highest compression ratio, but can be very slow.

      ```bash
      xz file.txt       # Compresses to file.txt.xz
      unxz file.txt.xz  # Decompresses
      ```
    - **zip (`*.zip`):**  Commonly used for cross-platform compatibility. Requires the `zip` and `unzip` utilities.

      ```bash
      zip archive.zip file1 file2 # Compresses to file.zip
      unzip archive.zip           # Decompresses
      ```
    - **zstd (`*.zst`):**  Modern compression algorithm offering a good balance of speed and compression ratio.

      ```bash
      zstd file.txt       # Compresses to file.txt.zst
      unzstd file.txt.zst  # Decompresses
      ```
  - **Combining tar and Compression:**

    The `tar` command can be used with compression tools to create compressed archives directly:

    ```bash
    # tar.gz:
    tar -czvf archive_name.tar.gz file1 file2 directory1
    tar -xzvf archive_name.tar.gz 

    # tar.bz2:
    tar -cjvf archive_name.tar.bz2 file1 file2 directory1
    tar -xjvf archive_name.tar.bz2

    # tar.xz:
    tar -cJvf archive_name.tar.xz file1 file2 directory1
    tar -xJvf archive_name.tar.xz
    ```
  - **What choose**

    <aside>
      💡 **Choosing the Right Tool:**

    - **gzip:** General-purpose compression, good balance of speed and size.
    - **bzip2:** Better compression for large files, but slower.
    - **xz:** Highest compression, best for long-term storage, but slowest.
    - **zip:** For cross-platform compatibility.
    - **zstd:** Modern compression with good speed and compression.

    </aside>

---

- Arquitectura

  - Usuario
  - Aplicaciones
  - Shell (interpreta la linea de comandos)
  - estandar de jerarquia del sistema de archivos
  - kernel
  - hardware
- Parent distributions

  - Red Hat (CentOS)
  - Slackware (SUSE)
  - Debian (Ubuntu y **Kali**)
- Pentesting tools

  - Metasploit: buscar y explotar vulnerabilidades en equipos.
  - Burp suite: busca debilidades en apps web.
  - John the Ripper: passwords
  - 
- Digital forensics tools

  - TCPDump: analiza paquetes de linea de comandos (network traffic)
  - WireShark: analizar trafico de red en vivo y capturarlo
  - Autopsy analizar discos duros y smartphones
- linux basics

  ```bash
  apt install //instala
  apt remove //elimina
  sudo //permisos root
  apt list --installed //lista instaladas

  echo //emite una cadena de texto especifica
  ```
  ### Shell (Bash)


  ```bash
  grep (caracteres) [archivo] #busca un archivo especifico y muestra el contenido que coincide

  pipe o tuberia ( | )   # PLECA envia la salida de un comando como entrada de otro
  #redirigir salidas
  #envian la salida a un archivo especifico
  >    #sobreescribe el archivo
  >>   #agrega al final del contenido
  find [ubicacion] (criterios) # por lo general los criterios inician con -
  # -name busca que el nombre coincida importan las mayusculas
  #-iname no importan las mayusculas
  # * comodin que representa carecteres desconocidos
  #-mtime -(#dias) archivos modificados en los ultimos # dias
  #-mmin -(#min) 

  Permissions
  drwxrwxrwx  # r read, w write, x execute
  # 1 - dipo de archivo (d directorio, - archivo )
  # 2-3 permisos del usuario, - no tiene ese permiso
  # 4-6 permisos de grupo
  # 7-10 permisos para otros usuarios
  Comandos para manejo de permisos
  ls - l #muestra el conetenido con sus permisos
  ls -a #muestra archivos ocultos
  ls -la #ambos comandos
  --Cambiar permisos
  chmod [g+w,o-r] (archivo)# cambia los permisos
  # u usuario, g grupo, o otros ; + agrega, - quita

  #usuarios
  useradd  #agrega usuarios al sistema (debe ser con sudo)
  usermod #modifica usuario ej: -g agrega grupo o grupos (si no se incluye -a reemplaza los grupos)
  #-d: Cambia el directorio de inicio del usuario.

  #-l: Cambia el nombre de inicio de sesión del usuario.

  #-L: Bloquea la cuenta para que el usuario no pueda iniciar sesión.
  userdel #elimina un usuario del sistema (debe ser con sudo)
  #-r elimina archivos del directorio del usuario
  chown cambia el propietartio de un archivo (: antes del nuuevo propietario para que sea un grupo)


  ```
